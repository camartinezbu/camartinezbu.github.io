<!DOCTYPE html><html lang="es-ES" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Condicionar la ejecución de comandos dentro de pipes" /><meta property="og:locale" content="es_ES" /><meta name="description" content="Cuando termines de leer vas a querer reescribir tu código" /><meta property="og:description" content="Cuando termines de leer vas a querer reescribir tu código" /><link rel="canonical" href="http://www.camartinezbu.com//posts/condicionar-la-ejecucion-de-comandos-dentro-de-pipes/" /><meta property="og:url" content="http://www.camartinezbu.com//posts/condicionar-la-ejecucion-de-comandos-dentro-de-pipes/" /><meta property="og:site_name" content="Camilo Martínez Burgos" /><meta property="og:image" content="https://raw.githubusercontent.com/camartinezbu/blog-images/main/posts/2022-03-06-condicionar-la-ejecucion-de-comandos-dentro-de-pipes/hero.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-06T10:30:00-05:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://raw.githubusercontent.com/camartinezbu/blog-images/main/posts/2022-03-06-condicionar-la-ejecucion-de-comandos-dentro-de-pipes/hero.png" /><meta property="twitter:title" content="Condicionar la ejecución de comandos dentro de pipes" /><meta name="twitter:site" content="@camartinezbu" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-12-15T18:47:32-05:00","datePublished":"2022-03-06T10:30:00-05:00","description":"Cuando termines de leer vas a querer reescribir tu código","headline":"Condicionar la ejecución de comandos dentro de pipes","image":"https://raw.githubusercontent.com/camartinezbu/blog-images/main/posts/2022-03-06-condicionar-la-ejecucion-de-comandos-dentro-de-pipes/hero.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://www.camartinezbu.com//posts/condicionar-la-ejecucion-de-comandos-dentro-de-pipes/"},"url":"http://www.camartinezbu.com//posts/condicionar-la-ejecucion-de-comandos-dentro-de-pipes/"}</script><title>Condicionar la ejecución de comandos dentro de pipes | Camilo Martínez Burgos</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Camilo Martínez Burgos"><meta name="application-name" content="Camilo Martínez Burgos"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/camartinezbu/blog-images/main/common/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Camilo Martínez Burgos</a></div><div class="site-subtitle font-italic">Ciencia de datos y programación</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>INICIO</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORÍAS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>ETIQUETAS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVO</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>SOBRE MI</span> </a><li class="nav-item"> <a href="/portfolio/" class="nav-link"> <i class="fa-fw fas fa-briefcase ml-xl-3 mr-xl-3 unloaded"></i> <span>PORTAFOLIO</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/camartinezbu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/camartinezbu" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href="https://www.linkedin.com/in/camartinezbu/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['camartinezbu.contacto','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Inicio </a> </span> <span>Condicionar la ejecución de comandos dentro de pipes</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Entrada</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Buscar..."> </span> <span id="search-cancel" >Cancelar</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Condicionar la ejecución de comandos dentro de pipes</h1><div class="post-meta text-muted"> <span> Publicado <em class="" data-ts="1646580600" data-df="DD/MM/YYYY" data-toggle="tooltip" data-placement="bottom"> 06/03/2022 </em> </span> <span> Actualizado <em class="" data-ts="1671148052" data-df="DD/MM/YYYY" data-toggle="tooltip" data-placement="bottom"> 15/12/2022 </em> </span><div class="mt-3 mb-3"> <img data-src="https://raw.githubusercontent.com/camartinezbu/blog-images/main/posts/2022-03-06-condicionar-la-ejecucion-de-comandos-dentro-de-pipes/hero.png" class="preview-img bg" alt="Preview Image" data-proofer-ignore></div><div class="d-flex justify-content-between"> <span> Por <em> <a href="https://twitter.com/camartinezbu">Camilo Martínez Burgos</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1418 palabras"> <em>7 min</em> de lectura</span></div></div></div><div class="post-content"><p>Buena parte del tiempo que pasamos trabajando con el <code class="language-plaintext highlighter-rouge">tidyverse</code> lo hacemos usando el operador pipe (<code class="language-plaintext highlighter-rouge">%&gt;%</code>). Este operador nos permite fácilmente incluir la salida de una función como argumento de la siguiente, y de esta manera encadenar comandos para realizar modificaciones complejas a una base de datos con una gran legibilidad.</p><p>Sin embargo, ¿qué sucede si quiero supeditar la ejecución de alguno de los comandos del pipe a una condición? Esto es lo que les voy a mostrar en el blog de hoy.</p><h2 id="un-repaso-rápido-de-los-pipes"><span class="mr-2">Un repaso rápido de los pipes</span><a href="#un-repaso-rápido-de-los-pipes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>El pipe viene del paquete <code class="language-plaintext highlighter-rouge">magrittr</code>, que se carga automáticamente cuando llamamos al <code class="language-plaintext highlighter-rouge">tidyverse</code> en nuestro código. Si ya has trabajado antes en análisis de datos con R, seguro el siguiente código es familiar:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">columna1</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Para un dataframe arbitrario, es claro ver que estoy agrupando por una columna llamada <code class="language-plaintext highlighter-rouge">columna1</code>, sumando para cada valor de esa columna los valores de <code class="language-plaintext highlighter-rouge">columna2</code> y asignándolo a la columna <code class="language-plaintext highlighter-rouge">total</code>, ordenandola de mayor a menor y asignando las primeras 10 filas a un dataframe llamado <code class="language-plaintext highlighter-rouge">tabla_resumen</code>. Si no usaramos el pipe y creáramos objetos intermedios para cada operación mencionada, tendríamos que hacer algo del estilo:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">datos_agrupados</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">group_by</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">columna1</span><span class="p">)</span><span class="w">

</span><span class="n">datos_resumidos</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">summarise</span><span class="p">(</span><span class="n">datos_agrupados</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w">

</span><span class="n">datos_ordenados</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">arrange</span><span class="p">(</span><span class="n">datos_resumidos</span><span class="p">,</span><span class="w"> </span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w">

</span><span class="n">tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">head</span><span class="p">(</span><span class="n">datos_ordenados</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Como puedes ver, la implementación a través del pipe es más ordenada y fácil de leer, y nos ahorra la necesidad de crear y almacenar objetos en memoria que no vamos a necesitar.</p><h2 id="cómo-entran-los-condicionales"><span class="mr-2">¿Cómo entran los condicionales?</span><a href="#cómo-entran-los-condicionales" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Trabajar con las estructuras de control de <code class="language-plaintext highlighter-rouge">if</code> es relativamente sencillo en R base, usando la sintaxis:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="c1">#comandos</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div><p>Adicionalmente, el uso de condiciones dentro de los pipes no es ajeno para el <code class="language-plaintext highlighter-rouge">tidyverse</code>. Funciones como <code class="language-plaintext highlighter-rouge">case_when()</code> permiten aplicar una serie de condiciones de manera abreviada para tareas como modificar una columna de la base de datos. Por ejemplo, si quieremos separar los valores de una columna con base en los cuartiles, podemos hacer algo del estilo:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">datos</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">segmento</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">case_when</span><span class="p">(</span><span class="w">
    </span><span class="n">columna1</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">quantile</span><span class="p">(</span><span class="n">columna1</span><span class="p">,</span><span class="w"> </span><span class="m">.25</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s1">'segmento1'</span><span class="p">,</span><span class="w">
    </span><span class="n">columna2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">quantile</span><span class="p">(</span><span class="n">columna1</span><span class="p">,</span><span class="w"> </span><span class="m">.25</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">columna2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">quantile</span><span class="p">(</span><span class="n">columna1</span><span class="p">,</span><span class="w"> </span><span class="m">.5</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s1">'segmento2'</span><span class="p">,</span><span class="w">
    </span><span class="n">columna2</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">quantile</span><span class="p">(</span><span class="n">columna1</span><span class="p">,</span><span class="w"> </span><span class="m">.5</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">columna2</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">quantile</span><span class="p">(</span><span class="n">columna1</span><span class="p">,</span><span class="w"> </span><span class="m">.75</span><span class="p">)</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s1">'segmento3'</span><span class="p">,</span><span class="w">
    </span><span class="kc">TRUE</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="s1">'segmento4'</span><span class="w">
  </span><span class="p">))</span><span class="w">
</span></pre></table></code></div></div><p>Ahora bien, qué pasa si queremos aplicar el condicional sobre la <em>ejecución misma</em> de alguno de los comandos dentro de un pipe. Lo primero que se viene a la cabeza es simplemente incluir la estructura de un <code class="language-plaintext highlighter-rouge">if</code> dentro del pipe ¿verdad? Sigamos el ejemplo de la base de datos arbitraria de antes. Supongamos que en vez de agrupar siempre, queremos definir una condición para decirle al pipe cuándo si y cuando no ejecutar esa línea de código. La idea de aplicar el <code class="language-plaintext highlighter-rouge">if</code> directamente sería algo como:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">columna1</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Sin embargo, el paquete <code class="language-plaintext highlighter-rouge">magrittr</code> no sabe qué hacer con esta manera de escribir la instrucción y devolverá un error. En ese sentido, vamos a hacer tres cambios para que funcione y sea fácil de leer dentro del pipe.</p><h3 id="ifelse-de-una-línea"><span class="mr-2">if…else de una línea</span><a href="#ifelse-de-una-línea" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Lo primero es ajustar la manera como está escrito el <code class="language-plaintext highlighter-rouge">if...else</code>. Si bien la manera en que usualmente se encuentra su sintaxis tiene varias líneas, también podemos escribirla en una sola línea. Los dos comandos siguientes funcionan exactamente igual:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1"># Varias líneas</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="s1">'La condición se cumple'</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w"> 

</span><span class="c1"># Una línea</span><span class="w">
</span><span class="k">if</span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">'La condición se cumple'</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Nota como el cambio entre los dos es que se ahorra el uso de unos corchetes. Sólo por el hecho de que la función print no está entre los primeros paréntesis, R entiende que esa es el comando a ejecutar en caso que la condición sea cierta y no parte de la condición.</p><p>Lo anterior también aplica si tenemos un <code class="language-plaintext highlighter-rouge">else</code>:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c1"># Varias líneas</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="s1">'La condición se cumple'</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">print</span><span class="p">(</span><span class="s1">'La condición no se cumple'</span><span class="p">)</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span><span class="c1"># Una línea</span><span class="w">
</span><span class="k">if</span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">'La condición se cumple'</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">print</span><span class="p">(</span><span class="s1">'La condición no se cumple'</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>En estricto sentido, este cambio no va a hacer que el <code class="language-plaintext highlighter-rouge">if...else</code> funcione diferente dentro del pipe. Sin embargo, en mi opinión escribirlo en una sóla línea ayudará a que se vea mejor en esta serie de comandos y facilitará su lectura.</p><h3 id="corchetes"><span class="mr-2">Corchetes</span><a href="#corchetes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Lo siguiente es que <code class="language-plaintext highlighter-rouge">magrittr</code> necesita saber que ese <code class="language-plaintext highlighter-rouge">if...else</code> hace parte del pipe y lo puede encadenar a los demás comandos. Para ello, tenemos que encerrarlo en corchetes. Es decir, con los dos cambios vistos hasta el momento implican que la operación de agrupar según una condición se escribiría como:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="n">group_by</span><span class="p">(</span><span class="n">columna1</span><span class="p">)</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>No obstante, esto también nos arrojará error. Si bien ya <code class="language-plaintext highlighter-rouge">magrittr</code> entiende que esto es un comando a encadenar, sigue sin saber <em>qué</em> encadenar con los siguientes comandos.</p><h3 id="ajustes-finales"><span class="mr-2">Ajustes finales</span><a href="#ajustes-finales" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Esto sucede por dos motivos. El primero es que no hemos definido qué sucede en ambos escenarios posibles: cuando la condición es cierta como cuando es falsa. El segundo es que internamente los <code class="language-plaintext highlighter-rouge">pipes</code> y las funciones del <code class="language-plaintext highlighter-rouge">tidyverse</code> tienen una manera de indicarle a las funciones dónde entran los resultados de las operaciones anteriores, que tenemos que llamar explícitamente dentro del <code class="language-plaintext highlighter-rouge">if</code>.</p><p>Con respecto al primer motivo, deberíamos tener entonces un código del siguiente estilo:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="s1">'salida1'</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">'salida2'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>El segundo motivo merece una explicación un poco más detallada. Al revisar la documentación de las funciones del <code class="language-plaintext highlighter-rouge">tidyverse</code> se puede ver que tienen un argumento que llamado <code class="language-plaintext highlighter-rouge">.data</code>. Este le indica a las funciones cuál es el dataframe sobre el que tienen que realizar la operación específica. Cuando no se está usando un pipe, tenemos que llamarlo de manera explícita como el primer argumento. Cuando usamos un pipe, éste se encarga de que el dataframe que venía antes sea ese <code class="language-plaintext highlighter-rouge">.data</code> y de esta manera encadenar los comandos. Por tal razón, estos dos elementos son exactamente iguales:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1"># Sin pipe</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w">

</span><span class="c1"># Con pipe</span><span class="w">
</span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Como ahora tenemos dos posibilidades de qué hacer según la condición, para implementar el condicional dentro del pipe tenemos que definir explícitamente el nombre de lo que iría en ese <code class="language-plaintext highlighter-rouge">.data</code> con un placeholder. De esta manera, para ambas posibilidades del <code class="language-plaintext highlighter-rouge">if...else</code>, el pipe sabrá que hacer y podremos seguir con la ejecución del comando. Para ello, vamos a usar el caracter de punto <code class="language-plaintext highlighter-rouge">.</code>.</p><p>Uniendo todo lo anterior, tenemos que la solución para implementar el ejemplo anterior sería algo como:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="p">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">condicion</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="n">group_by</span><span class="p">(</span><span class="n">.</span><span class="p">,</span><span class="w"> </span><span class="n">columna1</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">.</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarise</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Lo que quiere decir esta nueva sintaxis es que si la condición es cierta, vamos a tomar el dataframe <code class="language-plaintext highlighter-rouge">data</code> -referenciada dentro de la función como <code class="language-plaintext highlighter-rouge">.</code> y lo vamos a agrupar de acuerdo con la <code class="language-plaintext highlighter-rouge">columna1</code>; y si la condición es falsa, vamos a devolver el mismo dataframe anterior, es decir <code class="language-plaintext highlighter-rouge">data</code>. Culquiera que sea la salida de este <code class="language-plaintext highlighter-rouge">if...else</code>, será un dataframe que se podrá inttroducir en la siguiente línea y ejecutar el resto de código con normalidad.</p><h2 id="extra"><span class="mr-2">Extra</span><a href="#extra" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Como ejercicio adicional, se podría incluir esta operación al interior de una función e incluir la condición como un argumento de dicha función:</p><div class="language-r highlighter-rouge"><div class="code-header"> <span data-label-text="R"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="¡Copiado!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">crear_tabla_resumen</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dataframe</span><span class="p">,</span><span class="w"> </span><span class="n">agrupar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="n">output</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">dataframe</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">agrupar</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w"> </span><span class="n">group_by</span><span class="p">(</span><span class="n">.</span><span class="p">,</span><span class="w"> </span><span class="n">columna1</span><span class="p">)</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">.</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">summarise</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="n">columna2</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">arrange</span><span class="p">(</span><span class="n">desc</span><span class="p">(</span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">head</span><span class="p">(</span><span class="m">10</span><span class="p">)</span><span class="w">

  </span><span class="n">return</span><span class="w"> </span><span class="n">output</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1"># Agrupando por la columna 1</span><span class="w">
</span><span class="n">tabla_resumen1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">crear_tabla_resumen</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">agrupar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">

</span><span class="c1"># Sin agrupar por la columna 1</span><span class="w">
</span><span class="n">tabla_resumen2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">crear_tabla_resumen</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">agrupar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></pre></table></code></div></div><p>Espero que te haya servido este tutorial y que puedas utilizar condicionales dentro de los pipes en R. Puedes leer más sobre su funcionamiento en este <a href="https://r4ds.had.co.nz/pipes.html">capítulo</a> del líbro de R para Ciencia de Datos de Hadley Wickham.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/r/'>R</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/r/" class="post-tag no-text-decoration" >r</a> <a href="/tags/pipe/" class="post-tag no-text-decoration" >pipe</a> <a href="/tags/condicional/" class="post-tag no-text-decoration" >condicional</a> <a href="/tags/turorial/" class="post-tag no-text-decoration" >turorial</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> Esta entrada está licenciada bajo <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> por el autor.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Compartir</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Condicionar+la+ejecuci%C3%B3n+de+comandos+dentro+de+pipes+-+Camilo+Mart%C3%ADnez+Burgos&url=http%3A%2F%2Fwww.camartinezbu.com%2F%2Fposts%2Fcondicionar-la-ejecucion-de-comandos-dentro-de-pipes%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Condicionar+la+ejecuci%C3%B3n+de+comandos+dentro+de+pipes+-+Camilo+Mart%C3%ADnez+Burgos&u=http%3A%2F%2Fwww.camartinezbu.com%2F%2Fposts%2Fcondicionar-la-ejecucion-de-comandos-dentro-de-pipes%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Fwww.camartinezbu.com%2F%2Fposts%2Fcondicionar-la-ejecucion-de-comandos-dentro-de-pipes%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copiar enlace" data-title-succeed="¡Enlace copiado!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Actualizado recientemente</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/3-razones-que-dificultan-el-trabajo-con-fechas/">3 razones que dificultan el trabajo con fechas</a><li><a href="/posts/como-trabajar-con-fechas-en-r/">¿Cómo trabajar con fechas en R?</a><li><a href="/posts/como-trabajar-con-fechas-en-python/">¿Cómo trabajar con fechas en Python?</a><li><a href="/posts/args-y-kwargs-en-python/">Args y Kwargs en Python</a><li><a href="/posts/como-escribir-un-problema-de-optimizacion-en-jupyter/">¿Cómo escribir un problema de optimización en Jupyter?</a></ul></div><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/r/">r</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/datetimes/">datetimes</a> <a class="post-tag" href="/tags/fechas/">fechas</a> <a class="post-tag" href="/tags/jupyter/">jupyter</a> <a class="post-tag" href="/tags/lubridate/">lubridate</a> <a class="post-tag" href="/tags/concepto/">concepto</a> <a class="post-tag" href="/tags/dataviz/">dataviz</a> <a class="post-tag" href="/tags/ggplot/">ggplot</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contenido</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Lecturas adicionales</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/3-razones-que-dificultan-el-trabajo-con-fechas/"><div class="card-body"> <em class="small" data-ts="1671145800" data-df="DD/MM/YYYY" > 15/12/2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>3 razones que dificultan el trabajo con fechas</h3><div class="text-muted small"><p> Una de las tareas más habituales en el trabajo de un científico de datos tiene que ver con el manejo de fechas. Asumiendo que tus datos ya están ordenados, los campos que describen fechas te van a ...</p></div></div></a></div><div class="card"> <a href="/posts/como-trabajar-con-fechas-en-python/"><div class="card-body"> <em class="small" data-ts="1671463200" data-df="DD/MM/YYYY" > 19/12/2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>¿Cómo trabajar con fechas en Python?</h3><div class="text-muted small"><p> En una publicación anterior te hablé sobre las dificultades que te puedes encontrar cuando trabajes con fechas en tus proyectos de ciencia de datos. Para que puedas resolverlas, estoy escribiendo u...</p></div></div></a></div><div class="card"> <a href="/posts/como-trabajar-con-fechas-en-pandas/"><div class="card-body"> <em class="small" data-ts="1671659400" data-df="DD/MM/YYYY" > 21/12/2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>¿Cómo trabajar con fechas en Pandas?</h3><div class="text-muted small"><p> El trabajo con fechas tiene numerosas complejidades, entre las que se cuentan el formato de escritura de las fechas, las zonas horarias y las diferentes formas de hablar de duraciones de tiempo. E...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/mapas-de-calor-como-calendarios-en-R/" class="btn btn-outline-primary" prompt="Anterior"><p>Mapas de calor como calendarios en R</p></a> <a href="/posts/plantillas-para-proyectos-de-ciencia-de-datos/" class="btn btn-outline-primary" prompt="Nuevo"><p>Plantillas para proyectos de ciencia de datos</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'http://www.camartinezbu.com//posts/condicionar-la-ejecucion-de-comandos-dentro-de-pipes/'; this.page.identifier = '/posts/condicionar-la-ejecucion-de-comandos-dentro-de-pipes/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://camartinezbu.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { window.addEventListener("message", reloadDisqus); } </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Etiquetas populares</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/tutorial/">tutorial</a> <a class="post-tag" href="/tags/r/">r</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/datetimes/">datetimes</a> <a class="post-tag" href="/tags/fechas/">fechas</a> <a class="post-tag" href="/tags/jupyter/">jupyter</a> <a class="post-tag" href="/tags/lubridate/">lubridate</a> <a class="post-tag" href="/tags/concepto/">concepto</a> <a class="post-tag" href="/tags/dataviz/">dataviz</a> <a class="post-tag" href="/tags/ggplot/">ggplot</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/camartinezbu">Camilo Martínez Burgos</a>. <span data-toggle="tooltip" data-placement="top" title="Salvo que se indique explícitamente, las entradas de este blog están licenciadas bajo la Creative Commons Attribution 4.0 International (CC BY 4.0) License por el autor.">Algunos derechos reservados.</span></p></div><div class="footer-right"><p class="mb-0"> Hecho con <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> usando el tema <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> .</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">¡Oops! No se encuentran resultados.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/es.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-77VL6HZ7DQ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-77VL6HZ7DQ'); }); </script>
